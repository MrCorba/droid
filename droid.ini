[p2b8]

//region Buttons/Pots
[buttongroup]
    button1 = B1.1
    button2 = B1.2
    button3 = B1.3
    button4 = B1.4
    led1 = L1.1
    led2 = L1.2
    led3 = L1.3
    led4 = L1.4

[pot]
    pot = P1.1
    select = L1.1
    output = _BASS_STEPS_POT

[pot]
    pot = P1.2
    select = L1.1
    output = _BASS_ACTIVITY_POT

[pot]
    pot = P1.1
    select = L1.3
    output = _BASS_PITCH_POT

[pot]
    pot = P1.2
    select = L1.3
    output = _TMP

[pot]
    pot = P1.1
    select = L1.2
    output = _LEAD_LOW_POT

[pot]
    pot = P1.2
    select = L1.2
    output = _LEAD_HIGH_POT

[pot]
    pot = P1.1
    select = L1.4
    output = _LEAD_ACTIVITY_POT

[pot]
    pot = P1.2
    select = L1.4
    output = _TMP_2

[button]
    button = B1.7
    led = L1.7

[button]
    button = B1.8
    led = L1.8
//endregion

//region Bass
[algoquencer]
    clock = I1*L1.7
    reset = I2
    length = _BASS_STEPS_POT * 11 + 5
    pitchlow = 0V
    pitchhigh = _BASS_PITCH_POT
    activity = _BASS_ACTIVITY_POT * 0.5 + 0.5
    nextpattern = B1.5
    trigger = _BASS_TRIGGER
    pitch = _BASS_PITCH

[minifonion]
    input = _BASS_PITCH
    trigger = _BASS_TRIGGER
    root = 7
    degree = 7
    select1 = 1
    select3 = 0
    select5 = 1
    select7 = 0
    select9 = 0
    select11 = 0
    select13 = 1
    selectfill1 = 0
    selectfill2 = 0
    selectfill3 = 0
    selectfill4 = 0
    selectfill5 = 0
    output = O2

[copy]
    input = _BASS_TRIGGER
    output = O1

[algoquencer]
    clock = I1*L1.7
    reset = I2
    length = _BASS_STEPS_POT * 11 + 5
    pitchlow = 0V
    pitchhigh = 5V
    nextpattern = B1.5
    pitch = O3

//endregion

//region Lead
[algoquencer]
    clock = I1 * L1.8
    reset = I2
    length = 15
    pitchlow = _LEAD_LOW_POT
    pitchhigh = _LEAD_HIGH_POT
    activity = _LEAD_ACTIVITY_POT
    offbeats = 0.8
    nextpattern = B1.6
    trigger = _LEAD_TRIGGER
    pitch = _LEAD_PITCH

[minifonion]
    input = _LEAD_PITCH
    trigger = _LEAD_TRIGGER
    root = 7
    degree = 7
    select1 = 1
    select3 = 0
    select5 = 1
    select7 = 1
    select9 = 0
    select11 = 0
    select13 = 1
    selectfill1 = 0
    selectfill2 = 0
    selectfill3 = 0
    selectfill4 = 0
    selectfill5 = 0
    output = O6  

[copy]
    input = _LEAD_TRIGGER
    output = O5

[algoquencer]
    clock = I1 * L1.8
    reset = I2
    length = 15   
    pitchlow = 1V
    pitchhigh = 5V
    activity = 1
    nextpattern = B1.6
    pitch = O7
//endregion